<div class="container font-rem-1_25">
	<div class="row">
		<div class="col-12 color-white">
			<h1>Image Upload</h1>
			<div class="spectrum"></div>

			@if (!uploadedImage) {
				<div class="upload-section mt-4">
					<div
						class="upload-area"
						[class.drag-over]="dragOver"
						(dragover)="onDragOver($event)"
						(dragleave)="onDragLeave($event)"
						(drop)="onDrop($event)"
						(paste)="onPaste($event)"
						(click)="triggerFileInput()"
						tabindex="0"
					>
						<div class="text-center">
							<div class="font-rem-3 mb-3">ðŸ“¸</div>
							<div class="font-rem-1_5 fw-bold mb-2">Drop your image here or click to select</div>
							<div class="font-rem-1 text-muted">You can also paste an image (Ctrl+V)</div>
						</div>
					</div>

					<input
						#fileInput
						type="file"
						accept="image/*"
						(change)="onFileSelected($event)"
						style="display: none;"
					>

					@if (error) {
						<div class="mt-3 alert alert-danger">
							{{ error }}
						</div>
					}
				</div>
			} @else {
				<div class="preview-section mt-4 d-flex flex-column justify-content-center align-items-center">
					<div class="font-rem-1_5 fw-bold mb-3">Upload Successful! URL copied to clipboard</div>

					<div
						class="image-preview"
						(click)="openImage()"
						[style.background-image]="'url(' + uploadedImage.preview + ')'"
					>
						<div class="click-hint">Click to open in new tab</div>
					</div>

					<div class="mt-3 d-flex gap-2 ">
						<button
							class="btn btn-primary font-rem-1_5"
							(click)="resetUpload()"
						>
							Upload Another
						</button>
					</div>
				</div>
			}
		</div>
	</div>
</div>
